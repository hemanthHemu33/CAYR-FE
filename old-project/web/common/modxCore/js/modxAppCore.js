"use strict"; const MessageType = { ERROR: "error", SUCCESS: "success", INFORMATION: "information" }; var _$modxAppCore = { getProjectName: function () { return "Incite" }, showErrorMessage: function (e, t, n) { if (null != n && null != n && "" != n || (n = "spanErrorMain"), "" != e) { var r = "black", a = "fas fa-check-circle"; switch (t) { case "error": r = "red", a = "fas fa-exclamation-circle"; break; case "success": default: r = "green", a = "fas fa-check-circle"; break; case "information": r = "orange", a = "fas fa-exclamation-circle" }$("#" + n).css("color", r); var o = `<i class="${a}"></i> ${e}`; $("#" + n).html(o), $("#" + n).show() } else $("#" + n).hide() }, isUserInSession: function () { return !1 }, _alertConstruct: { id: "", idTitleELM: "", idMessageELM: "", isConfirm: !1, setIds: function () { this.id = 1 == this.isConfirm ? "appcore_Confirm" : "appcore_Alert", this.idTitleELM = this.id + "_Title", this.idMessageELM = this.id + "_Message" }, alertHTML: function () { var e = ""; return e = '    <div class="modal-dialog">        \x3c!-- Modal content--\x3e    <div class="modal-content">            <div class="modal-header alert-Header">                <h4 class="modal-title alert-Header-Title" id="' + this.idTitleELM + '"></h4>                <button type="button" class="close" data-dismiss="modal" style="margin-top: -13px;">&times;</button>            </div>            <div class="modal-body">                <div id="' + this.idMessageELM + '"></div>            </div>            <div class="modal-footer">', 1 == this.isConfirm ? (e += '<button type="button" class="btn btn-sm btn-primary" data-dismiss="modal" data-appcoreAlert="OK">OK</button>', e += '<button type="button" class="btn btn-sm btn-primary" data-dismiss="modal" data-appcoreAlert="Cancel">Cancel</button>') : e += '<button type="button" class="btn btn-sm btn-primary" data-dismiss="modal" data-appcoreAlert="Close">Close</button>', e += "            </div>        </div>    </div>" }, create: function (e, t) { var n; if (this.setIds(), null == t && (t = ""), null == e && (e = ""), null != (n = document.getElementById(this.id)) && null != n) return this.setMessage(e, t), !0; (n = document.createElement("div")).id = this.id, n.setAttribute("class", "modal fade"), n.setAttribute("role", "dialog"); var r = this.alertHTML(); n.innerHTML = r, document.body.appendChild(n), this.setMessage(e, t) }, setMessage: function (e, t) { $("#" + this.idTitleELM).html(t), $("#" + this.idMessageELM).html(e) }, show: function () { var e = this; return $("#" + e.id).off("click"), new Promise((function (t, n) { $("#" + e.id).modal(), $("#" + e.id).on("click", (function (e) { var n = e.target.getAttribute("data-appcoreAlert"), r = !1; if ("OK" == n) r = !0; else { if ("Cancel" != n && "Close" != n) return; r = !1 } t(r) })) })) } }, alert: function (e, t) { this._alertConstruct.isConfirm = !1, this._alertConstruct.create(e, t), this._alertConstruct.show().then((function (e) { return !1 })) }, confirm: function (e, t) { return this._alertConstruct.isConfirm = !0, this._alertConstruct.create(e, t), this._alertConstruct.show() }, inlineConfirm: function (e, t, n, r, a, o) { var i = document.getElementById(e), l = document.createElement("div"); l.className = "pb-0", $(`#${t}`).remove(), l.id = t; var s = this._inlineConfirmHtml(n, r, a, o); l.innerHTML = s, i.append(l) }, hideinlineConfirm: function (e) { $(`#${e}`).remove(), $(".alert").alert("close") }, _inlineConfirmHtml: function (e, t, n, r) { return `\n        <div class="alert alert-${t} d-flex justify-content-between p-2 fade show mx-3" role="alert"> \n            <strong class="mt-2 font-weight-bold text-bold d-flex">\n            <div class = " mx-2"> <i class="fa-solid fa-circle-exclamation p-0"></i> </div> \n            <span>${e}</span></strong>\n        <div class="d-flex justify-content-around mt-2">\n            <button class="btn btn-sm btn-primary ml-2 mx-2 alertbtn" data-ev="${n}">Confirm</button>\n            <button class="btn btn-sm btn-outline-danger alertbtn" data-ev="${r}"> Cancel </button>\n             </div>\n        </div>` }, _getAppCoreModelElms: function (e) { return document.querySelector('[data-model="' + e + '"]').querySelectorAll("[data-model-prop]") }, getAppCoreModel: function (e) { for (var t = {}, n = this._getAppCoreModelElms(e), r = 0; r < n.length; r++) { var a = n[r], o = a.getAttribute("data-model-prop"), i = this.getUIElmValue(a); t[o] = i } return t }, getNewAppCoreModel: function (e, t) { for (var n = _$modxAppCore.getAppCoreModel(e), r = Object.keys(n), a = 0; a < r.length; a++)n[r[a]] = ""; return 1 == t && _$modxAppCore.putAppCoreModel(e, n), n }, putAppCoreModel: function (e, t) { for (var n = this._getAppCoreModelElms(e), r = 0; r < n.length; r++) { var a = n[r], o = t[a.getAttribute("data-model-prop")]; this.setUIElmValue(a, o) } }, getUIElmValue: function (e) { var t = ""; switch (e.tagName) { case "SELECT": case "INPUT": t = this.getUIElmINPUTValue(e); break; case "TEXTAREA": t = $(e).val(); break; default: t = e.innerHTML }return t }, getUIElmINPUTValue: function (e) { var t = ""; if ("checkbox" === e.type) t = e.checked; else t = $(e).val(); return t }, setUIElmValue: function (e, t) { switch (e.tagName) { case "SELECT": case "INPUT": this.setUIElmINPUTValue(e, t); break; case "TEXTAREA": $(e).val(t); break; default: e.innerHTML = t } }, setUIElmINPUTValue: function (e, t) { switch (e.type) { case "checkbox": t = JSON.parse(t), $(e).prop("checked", t); break; case "select-one": $(e).val(t).change(); break; case "date": var n = new Date(t).toISOShortString(); $(e).val(n); break; default: $(e).val(t) } }, addClassAppCoreModel: function (e, t) { for (var n = this._getAppCoreModelElms(e), r = 0; r < n.length; r++) { n[r].classList.add(t) } }, removeClassAppCoreModel: function (e, t) { for (var n = this._getAppCoreModelElms(e), r = 0; r < n.length; r++) { n[r].classList.remove(t) } }, loadJS: function (e, t) { var n = document.getElementById(t); return null != n || null != n ? (console.log("Element alreay exists"), new Promise(((e, t) => { e(!0) }))) : new Promise(((t, n) => { const r = document.createElement("script"); r.type = "text/javascript", r.onload = t, r.onerror = n, r.src = e, document.body.appendChild(r) })) } }, _$modxAppProgressBar = { _load: function (e) { if (null == (n = document.getElementById(e)) && null == n) { var t = ""; t += '<div class="inLoaderProcess">', t += '    <div class="loader inLoader"></div>', t += "</div>"; var n = document.createElement("div"); null != n && null != n && (n.id = e, n.innerHTML = t, document.body.appendChild(n)), $("#" + e).html(t) } }, show: function (e) { null != e && "" != e || (e = "divLoading"), _$modxAppProgressBar._load(e), $("#" + e).show() }, hide: function (e) { null == e && (e = "divLoading"), $("#" + e).hide() } }, _$modxAppUIBinders = { bindDropDown: function (e, t, n, r, a) { for (var o = document.querySelector("" + e), i = '<option value="-1">' + a + "</option>", l = 0; l < t.length; l++) { var s = t[l]; i = i + '<option value="' + s[n] + '">' + s[r] + "</option>" } o.innerHTML = i } }, _$modxAppUtils = { getCurrentPageName: function () { return location.pathname.split("/").slice(-1)[0] }, getQueryStringParameterByName: function (e) { e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var t = new RegExp("[\\?&]" + e + "=([^&#]*)").exec(location.search); return null === t ? "" : decodeURIComponent(t[1].replace(/\+/g, " ")) }, getQueryStringParameterByNameV1: function (e) { e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var t = location.search.replace("?", ""); t = window.atob(t); var n = new RegExp("[\\?&]" + e + "=([^&#]*)").exec("?" + t); return null === n ? "" : decodeURIComponent(n[1].replace(/\+/g, " ")) }, getUUID: function () { return self.crypto.randomUUID() } }, _$AppValidatte = { validationCheck: function (e, t, n, r, a) { return "" == e || null == e || ("" != t && null != t ? "Email" == e ? !!AppValidatte.validateEmail(t) || (r ? _modxAppCore.alert("Please enter valid email.", "Error") : _modxAppCore.showError("Please enter valid email.", MessageType.ERROR, a), !1) : "Phone" != e || 10 == t.length || (r ? _modxAppCore.alert("Please enter valid phone no.", "Error") : _modxAppCore.showError("Please enter valid phone no.", MessageType.ERROR, a), !1) : (n && (o = e + " can not be blank!"), r ? _modxAppCore.alert(o, "Error") : _modxAppCore.showError(o, MessageType.ERROR, a), !1)); var o }, validateEmail: function (e) { return /\S+@\S+\.\S+/.test(e) }, validatePhone: function (e) { return /^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\./0-9]*$/g.test(e) } }, modx$ = { appCore: _$modxAppCore, uiProgress: _$modxAppProgressBar, uiBinders: _$modxAppUIBinders, utils: _$modxAppUtils }; !function () { function e(e) { return e < 10 ? "0" + e : e } Date.prototype.toISOShortString = function () { return this.getUTCFullYear() + "-" + e(this.getUTCMonth() + 1) + "-" + e(this.getUTCDate()) } }();